---
import '../styles.css';
import crypto from 'crypto';
const nonce = crypto.randomBytes(16).toString('base64');
const allowUnsafeStyles = process.env.NODE_ENV !== 'production';
const styleDirective = allowUnsafeStyles ? "'unsafe-inline'" : `'nonce-${nonce}'`;
const csp = `default-src 'self'; script-src 'self' 'nonce-${nonce}'; style-src 'self' https://fonts.googleapis.com ${styleDirective}; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self';`;
---
<!-- Homepage: brief demo description and link to admin -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Attendance - Demo</title>
    <!-- Content-Security-Policy: per-request nonce for scripts/styles; allow unsafe-inline styles in dev -->
    <meta http-equiv="Content-Security-Policy" content={csp} />
    <!-- Referrer policy to avoid leaking full URLs -->
    <meta name="referrer" content="no-referrer" />
    <!-- Permissions policy: deny camera/microphone by default; request explicitly when needed in UI -->
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=()" />
  </head>
  <body class="bg-dark centered-viewport">
    <main class="auth-wrap md-card fade-in" role="main" aria-labelledby="home-title">
      <div style="display:flex;align-items:center;gap:12px">
        <h1 id="home-title" class="brand" style="margin:0">Smart Attendance</h1>
      </div>
      <p class="lead">Smart Attendance Dashboard </p>
      <div style="display:flex;gap:10px;margin-top:12px">
        <a class="md-btn primary" href="/admin/login" aria-label="Open admin login"><span class="material-icons">admin_panel_settings</span>&nbsp;Admin</a>
      </div>
    </main>
  </body>
</html>
