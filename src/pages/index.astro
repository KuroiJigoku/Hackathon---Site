---
import '../styles.css';
import crypto from 'crypto';
const nonce = crypto.randomBytes(16).toString('base64');
const allowUnsafeStyles = process.env.NODE_ENV !== 'production';
const styleDirective = allowUnsafeStyles ? "'unsafe-inline'" : `'nonce-${nonce}'`;
const csp = `default-src 'self'; script-src 'self' 'nonce-${nonce}'; style-src 'self' ${styleDirective}; img-src 'self' data:; connect-src 'self';`;
---
<!-- Homepage: brief demo description and link to admin -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Attendance - Demo</title>
    <!-- Content-Security-Policy: per-request nonce for scripts/styles; allow unsafe-inline styles in dev -->
    <meta http-equiv="Content-Security-Policy" content={csp} />
    <!-- Referrer policy to avoid leaking full URLs -->
    <meta name="referrer" content="no-referrer" />
    <!-- Permissions policy: deny camera/microphone by default; request explicitly when needed in UI -->
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=()" />
  </head>
  <body class="bg-dark">
    <main class="container" role="main">
      <!-- Brand: uses accent color from theme -->
      <h1 class="brand">Smart Attendance â€” Demo</h1>
      <!-- Short description: keep it non-sensitive and concise -->
      <p class="lead">Dual-verification attendance demo (fingerprint + vision). Admin portal for CSV uploads and viewing attendance.</p>
      <!-- Use rel and accessible label for links; avoid target="_blank" unless necessary -->
      <a class="btn" href="/admin/login" aria-label="Open admin login">Go to Admin</a>
    </main>
  </body>
</html>
